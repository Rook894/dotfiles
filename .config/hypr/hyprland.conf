
# ----------------------------------------------------- 
# Monitors
# monitor = name, resolution, position, scale
# ----------------------------------------------------- 
monitor= eDP-1, 1920x1080 , 0x0, 1
monitor= HDMI-A-2, 1920x1080, auto-right, 1, mirror, eDP-1

# ----------------------------------------------------- 
# Autostart
# ----------------------------------------------------- 
source = ~/.config/hypr/conf/autostart.conf

# ----------------------------------------------------- 
# Keyboard and other input devices
# ----------------------------------------------------- 
source = ~/.config/hypr/conf/keyboard.conf

# ----------------------------------------------------- 
# Load pywal color file
# ----------------------------------------------------- 
source = ~/.config/hypr/conf/colors-hyprland.conf

# ----------------------------------------------------- 
# Keybindings
# ----------------------------------------------------- 
source = ~/.config/hypr/conf/keybinding.conf


# ----------------------------------------------------- 
# General window layout and colors
# ----------------------------------------------------- 

$active-window-border = rgb(BEAC79) #Active window
$inactive-window-border = rgb(6B413E) #Inactive window
$active-floating-window-border = rgba(C83831FF)
$inactive-floating-window-border = rgba(C83831BB)


general {
    gaps_in = 0
    gaps_out = 0
    border_size = 2
    col.active_border = $active-window-border
    col.inactive_border = $inactive-window-border
    layout = dwindle
    resize_on_border = true
    extend_border_grab_area = 10
}

# ----------------------------------------------------- 
# Layouts
# ----------------------------------------------------- 
dwindle {
    pseudotile = true
    preserve_split = true
    force_split = 2 # Always split to the right
    #no_gaps_when_only = 1 # No border when only one window is open
    
}

master {

}



# ----------------------------------------------------- 
# Misc
# -----------------------------------------------------
misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vfr = true
    initial_workspace_tracking = 0
}


# ----------------------------------------------------- 
# Decoration
# -----------------------------------------------------
decoration {
    rounding = 0
    blur {
        enabled = true
        size = 6
        passes = 2
        new_optimizations = on
        ignore_opacity = true
        xray = true
        # blurls = waybar
    }
    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0

    shadow{
        enabled = true
        range = 30
        render_power = 3
        color = 0x66000000
    }
}


# ----------------------------------------------------- 
# Window rules
# ----------------------------------------------------- 

# windowrule = tile,^(Microsoft-edge)$
# windowrule = tile,^(Brave-browser)$
# windowrule = tile,^(Chromium)$
# windowrule = float,^(pavucontrol)$
# windowrule = float,^(blueman-manager)$
# windowrule = float,^(nm-connection-editor)$
# windowrule = float,^(qalculate-gtk)$
# Avoid bug with xwayland app, where there's window of transparency around context menu.
windowrulev2 = noblur, xwayland:1

# Color borders of the floating windows
windowrulev2 = bordercolor $active-floating-window-border $inactive-floating-window-border,floating:1 


# no_gaps_when_only was removed in 0.45.0. Following rules replicate this functionality
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
windowrulev2 = rounding 0, floating:0, onworkspace:f[1]


# Always open following programs at specific workspaces (These programs are launched at startup)
windowrulev2 = workspace 9 silent, class:^(betterbird)$
windowrulev2 = workspace 8 silent, class:^(org\.telegram\.desktop)$
windowrulev2 = workspace 8 silent, class:^(vesktop)$



# Browser Picture in Picture
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = move 69.5% 4%, title:^(Picture-in-Picture)$

# Telegram media viewer
windowrulev2 = float, class:^(org\.telegram\.desktop)$, title:^(Media viewer)$

windowrulev2 = float, class:^(Thunar)$, title:^(File Operation Progress)$

# ----------------------------------------------------- 
# Animation
# ----------------------------------------------------- 
animations {
    enabled = false
}

# ----------------------------------------------------- 
# ENV
# ----------------------------------------------------- 

# Set desktop environment, session type and desktop session
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# QT settings
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt6ct
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,1

# GDK settings
env = GDK_SCALE,
env = GDK_BACKEND,wayland,x11,*

# Toolkit Backend
env = SDL_VIDEODRIVER,wayland
env = CLUTTER_BACKEND,wayland

# Set the cursor size for xcursor
env = XCURSOR_SIZE,24

# Mozilla
env = MOZ_ENABLE_WAYLAND,1

# Chrome
env = OZONE_PLATFORM,wayland

# Disable appimage launcher by default
env = APPIMAGELAUNCHER_DISABLE,1

# SSH Agent (GNOME Keyring)
env = SSH_AUTH_SOCK,$XDG_RUNTIME_DIR/gcr/ssh


# ----------------------------------------------------- 
# Environment for xdg-desktop-portal-hyprland
# ----------------------------------------------------- 
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
